schema: '2.0'
stages:
  data_ingestion:
    cmd: python youtube_comments_analyzer/data_ingestion.py
    deps:
    - path: youtube_comments_analyzer/data_ingestion.py
      hash: md5
      md5: 67adb6958bbcf65afc2247994001d7b8
      size: 7954
    params:
      params.yaml:
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw/raw_data.csv
      hash: md5
      md5: 38ee083169162dbac0cb07c80ac0f04e
      size: 6888934
    - path: data/raw/test.csv
      hash: md5
      md5: 7543dc2bae90db8be7d7066e45bf6f2f
      size: 1339353
    - path: data/raw/train.csv
      hash: md5
      md5: 9f24dbb77b14e2a6d92dc568d093286e
      size: 5580348
  data_preprocessing:
    cmd: python youtube_comments_analyzer/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 7543dc2bae90db8be7d7066e45bf6f2f
      size: 1339353
    - path: data/raw/train.csv
      hash: md5
      md5: 9f24dbb77b14e2a6d92dc568d093286e
      size: 5580348
    - path: youtube_comments_analyzer/data_preprocessing.py
      hash: md5
      md5: db4b2f4aa138feb3f920d9f11a36132a
      size: 5904
    outs:
    - path: data/interim/test.csv
      hash: md5
      md5: 2e086989136736a6973bb8c8ddd254b9
      size: 996167
    - path: data/interim/train.csv
      hash: md5
      md5: dfc726503e0238291fbeb8c0426aaaf4
      size: 4138683
  feature_engineering:
    cmd: python youtube_comments_analyzer/feature_engineering.py
    deps:
    - path: data/interim/test.csv
      hash: md5
      md5: 2e086989136736a6973bb8c8ddd254b9
      size: 996167
    - path: data/interim/train.csv
      hash: md5
      md5: dfc726503e0238291fbeb8c0426aaaf4
      size: 4138683
    - path: youtube_comments_analyzer/feature_engineering.py
      hash: md5
      md5: a782c46847fd5b5e0ffa926b7f4e5013
      size: 9382
    params:
      params.yaml:
        feature_engineering.max_features: 1000
        feature_engineering.ngram_range:
        - 1
        - 2
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: f9c26132934e5a5f459a8da73e431c8b
      size: 14677438
    - path: data/processed/X_train.csv
      hash: md5
      md5: 6e609b2d249f899bca4dc2eaa66d22d6
      size: 58692181
    - path: data/processed/y_test.csv
      hash: md5
      md5: e8ddd80b20d8565778c5ca2107fde908
      size: 22009
    - path: data/processed/y_train.csv
      hash: md5
      md5: a8b2fc4a2dcb16dd867f96cf6ce1267d
      size: 87997
    - path: models/vectorizer.pkl
      hash: md5
      md5: cac96be81bae840d005314c97037ef18
      size: 24413
  model_training:
    cmd: python youtube_comments_analyzer/model_training.py
    deps:
    - path: data/processed/X_train.csv
      hash: md5
      md5: 6e609b2d249f899bca4dc2eaa66d22d6
      size: 58692181
    - path: data/processed/y_train.csv
      hash: md5
      md5: a8b2fc4a2dcb16dd867f96cf6ce1267d
      size: 87997
    - path: youtube_comments_analyzer/model_training.py
      hash: md5
      md5: 432ea3cb4f11944bf74fe2c2f1e7c720
      size: 4185
    params:
      params.yaml:
        model_training.class_weight: balanced
        model_training.is_unbalance: true
        model_training.learning_rate: 0.06747064968662127
        model_training.max_depth: 30
        model_training.metric: multi_logloss
        model_training.min_child_samples: 10
        model_training.n_estimators: 240
        model_training.n_jobs: -1
        model_training.num_class: 3
        model_training.objective: multiclass
        model_training.random_state: 42
    outs:
    - path: models/model.pkl
      hash: md5
      md5: d367e882fbe74e070517736b99260fd6
      size: 2624151
